<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL_OVERRIDE_V6.0</title>
    <style>
        body { background-color: #000; color: #33ff33; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; display: flex; align-items: center; justify-content: center; height: 100vh; }
        #game-container { width: 85%; max-width: 600px; border: 2px solid #33ff33; padding: 30px; background: rgba(0, 5, 0, 0.9); z-index: 10; position: relative; box-shadow: 0 0 20px #00ff00; pointer-events: none; }
        #game-container * { pointer-events: auto; }
        canvas { position: fixed; top: 0; left: 0; z-index: 1; }
        input { background: transparent; border: none; color: #33ff33; font-family: 'Courier New', monospace; font-size: 1.2rem; width: 100%; outline: none; caret-color: white; border-bottom: 1px solid #33ff33; margin-top: 10px; }
        .error { color: #ff3333; font-weight: bold; }
        .system-msg { color: #888; font-size: 0.8rem; }
        .hidden { display: none; }
        .prize-text { color: #FF3333; text-shadow: 0 0 10px #FF3333; text-align: center; }
    </style>
</head>
<body>

<canvas id="matrix-canvas" class="hidden"></canvas>

<div id="game-container">
    <div id="output">
        <p class="system-msg">[SYSTEM] LINK ESTABLISHED...</p>
        <p class="system-msg">[SYSTEM] SECURITY PROTOCOL: RED_GLITCH_V6</p>
        <div id="level-content">
            <p><strong>> LEVEL 1: IDENTITY VERIFICATION</strong></p>
            <p>Enter our secret "inside joke" word to bypass the firewall:</p>
        </div>
    </div>
    <div id="input-line">
        <span>> </span><input type="text" id="user-input" autocomplete="off" autofocus>
    </div>
</div>

<script>
    const input = document.getElementById('user-input');
    const output = document.getElementById('output');
    const levelContent = document.getElementById('level-content');
    const canvas = document.getElementById('matrix-canvas');
    let currentLevel = 1;

    // --- CONFIGURATION ---
    const LVL1_ANSWER = "taco"; 
    const LVL2_ANSWER = "1024"; 
    const LVL3_ANSWER = "bff";

    input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            const val = input.value.toLowerCase().trim();
            input.value = '';
            checkAnswer(val);
        }
    });

    function checkAnswer(val) {
        if (currentLevel === 1 && val === LVL1_ANSWER.toLowerCase()) {
            startLevel2();
        } else if (currentLevel === 2 && val === LVL2_ANSWER) {
            startLevel3();
        } else if (currentLevel === 3 && val === LVL3_ANSWER.toLowerCase()) {
            showPrize();
        } else {
            const errorMsg = document.createElement('p');
            errorMsg.className = 'error';
            errorMsg.innerHTML = '> [ERROR] ACCESS DENIED';
            output.appendChild(errorMsg);
        }
    }

    function startLevel2() {
        currentLevel = 2;
        levelContent.innerHTML = `
            <p>[SUCCESS] LEVEL 1 BYPASSED.</p>
            <p><strong>> LEVEL 2: THE DATA HUNT</strong></p>
            <p>CRITICAL ERROR: A RED system key is falling in the data stream. Locate it and enter it below.</p>
        `;
        canvas.classList.remove('hidden');
        initMatrix();
    }

    function initMatrix() {
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const letters = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ$#@%";
        const fontSize = 18;
        const columns = Math.floor(canvas.width / fontSize);
        const drops = Array(columns).fill(1);

        // Pick 2 random columns to show the red secret code (to make it easier to find)
        const secretCol1 = Math.floor(Math.random() * columns);
        const secretCol2 = Math.floor(Math.random() * columns);

        function draw() {
            // Lighter black overlay so green stays bright
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (let i = 0; i < drops.length; i++) {
                let text;
                
                if (i === secretCol1 || i === secretCol2) {
                    ctx.fillStyle = "#FF0000"; // BRIGHT RED
                    ctx.font = "bold 22px Courier New";
                    // Cycle through the 4 digits of the answer
                    text = LVL2_ANSWER.charAt(Math.floor(Date.now() / 150) % 4);
                } else {
                    ctx.fillStyle = "#00FF41"; // VIBRANT MATRIX GREEN
                    ctx.font = fontSize + "px Courier New";
                    text = letters.charAt(Math.floor(Math.random() * letters.length));
                }

                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }
        setInterval(draw, 50);
    }

    function startLevel3() {
        currentLevel = 3;
        canvas.classList.add('hidden'); 
        levelContent.innerHTML = `
            <p>[SUCCESS] LEVEL 2 BYPASSED.</p>
            <p><strong>> LEVEL 3: BINARY DECODER</strong></p>
            <p>Convert the binary string to a 3-letter word:</p>
            <p style="color: #00FF00; font-size: 1.4rem; letter-spacing: 5px; font-weight: bold; text-align:center;">01000010 01000110 01000110</p>
            <p class="system-msg">(Hint: 01000010=B, 01000110=F)</p>
        `;
    }

    function showPrize() {
        document.getElementById('input-line').classList.add('hidden');
        levelContent.innerHTML = "";
        output.innerHTML = `
            <h1 class="prize-text">ðŸ”“ SYSTEM OVERRIDE COMPLETE</h1>
            <hr style="border: 1px solid #33ff33;">
            <p style="text-align: center; font-size: 1.2rem; line-height: 1.5;">
                "You cracked the hardest encryption I have! <br><br> 
                Happy Birthday! You're an absolute legend. <br> 
                Thanks for being my best friend."
            </p>
        `;
        document.body.style.backgroundColor = "#050000"; // Dark red tint
    }
</script>
</body>
</html>
